# OpenClaw Google Cloud Deployment Configuration
# Copy this file to .env and configure with your values

# =============================================================================
# GCP Project Configuration
# =============================================================================

# Your Google Cloud project ID
# Find at: https://console.cloud.google.com/
GCP_PROJECT_ID=my-openclaw-project

# GCP region for resources (choose nearest to you)
# Options: us-east1, us-west1, europe-west1, asia-east1, etc.
GCP_REGION=us-east1

# GCP zone within the region
# Options: us-east1-b, us-west1-a, europe-west1-b, etc.
GCP_ZONE=us-east1-b

# =============================================================================
# Docker Registry Configuration
# =============================================================================

# Artifact Registry repository name for Docker images
GCP_REPO_NAME=openclaw-images

# Computed values (don't change unless you know what you're doing)
REGISTRY_HOST=${GCP_REGION}-docker.pkg.dev
REGISTRY=${REGISTRY_HOST}/${GCP_PROJECT_ID}/${GCP_REPO_NAME}

# Docker image names
IMAGE_NAME_BASE=openclaw
IMAGE_NAME_CLOUD=openclaw-cloud

# =============================================================================
# VM Configuration
# =============================================================================

# VM instance name
VM_NAME=openclaw-gateway

# Machine type: e2-medium (2 vCPU, 4GB RAM, ~$24/month)
# Other options: e2-small (2 vCPU, 2GB RAM, ~$12/month) - might be tight
#                e2-standard-2 (2 vCPU, 8GB RAM, ~$49/month) - more headroom
MACHINE_TYPE=e2-medium

# Boot disk size in GB (for OS + Docker images)
# 30GB recommended for Docker images and layers
BOOT_DISK_SIZE_GB=30

# User on VM for running OpenClaw
# This user will own ~/.openclaw directory and run Docker containers
GCP_VM_USER=openclaw

# =============================================================================
# Docker Resource Limits
# =============================================================================
# Configure how much of the VM resources Docker can use
# For e2-medium (2 vCPU, 4GB RAM), recommended settings:

# Memory limit (leave ~1GB for OS)
DOCKER_MEMORY_LIMIT=3g

# Memory soft limit (can burst to limit if available)
DOCKER_MEMORY_RESERVATION=2g

# CPU limit (leave ~0.5 CPU for OS)
# For 2 vCPU machine, 1.5 is recommended
DOCKER_CPU_LIMIT=1.5

# Node.js heap size (in MB)
# Should be ~83% of memory limit: 3GB * 0.83 = 2.5GB = 2560MB
NODE_MAX_OLD_SPACE_SIZE=2560

# =============================================================================
# OpenClaw Gateway Configuration
# =============================================================================

# Gateway authentication token (REQUIRED)
# Generate with: openssl rand -hex 32
# This token is used to authenticate clients connecting to the gateway
# IMPORTANT: Keep this secret! Do not commit to git.
OPENCLAW_GATEWAY_TOKEN=

# Gateway port (default: 18789)
# This is the port OpenClaw listens on
OPENCLAW_GATEWAY_PORT=18789

# Gateway bind mode
# Options:
#   loopback - Bind to 127.0.0.1 (localhost only, most secure)
#   lan      - Bind to 0.0.0.0 (all interfaces, less secure)
#   all      - Bind to all interfaces (not recommended for production)
# Recommended: loopback (access via SSH port forwarding)
OPENCLAW_GATEWAY_BIND=loopback

# =============================================================================
# AI Model API Keys (Optional)
# =============================================================================

# Anthropic API key for Claude models
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# OpenAI API key for GPT models
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# =============================================================================
# Backup Configuration (Optional)
# =============================================================================

# GCS bucket name for backups
# Must be globally unique
# Example: openclaw-backup-mycompany-prod
# Leave empty to skip backup bucket creation
GCS_BUCKET_NAME=

# Backup bucket region (usually same as GCP_REGION)
GCS_BUCKET_REGION=${GCP_REGION}

# =============================================================================
# Advanced Configuration (Optional)
# =============================================================================

# Service account for VM (leave empty to use default compute service account)
# If specified, this service account will be used for the VM
# Must have: Artifact Registry Reader, Logging Writer, Monitoring Writer
GCP_SERVICE_ACCOUNT=

# Network tags for firewall rules (comma-separated)
# Default: openclaw-gateway
NETWORK_TAGS=openclaw-gateway

# Enable OS Login (recommended for production)
# Options: true, false
# true: Use GCP IAM for SSH access (recommended)
# false: Use SSH keys in metadata
ENABLE_OS_LOGIN=true

# Cloud NAT name (leave empty to auto-generate)
CLOUD_NAT_NAME=

# Cloud Router name (leave empty to auto-generate)
CLOUD_ROUTER_NAME=

# =============================================================================
# Docker Compose Configuration
# =============================================================================

# Docker Compose project name
COMPOSE_PROJECT_NAME=openclaw

# Docker Compose file on VM
COMPOSE_FILE=/home/${GCP_VM_USER}/openclaw/docker-compose.yml

# =============================================================================
# OpenClaw Optional Configuration
# =============================================================================

# Allow unconfigured gateway (for first boot)
# Set to true for first deploy, then remove or set to false
OPENCLAW_ALLOW_UNCONFIGURED=

# Additional environment variables for OpenClaw
# Add any other OpenClaw-specific config here
# Example:
# OPENCLAW_LOG_LEVEL=debug
# OPENCLAW_MAX_AGENTS=5

# =============================================================================
# Notes
# =============================================================================
#
# 1. After copying to .env, generate a secure token:
#    openssl rand -hex 32
#
# 2. Required fields:
#    - GCP_PROJECT_ID
#    - OPENCLAW_GATEWAY_TOKEN
#
# 3. Recommended to customize:
#    - GCP_REGION / GCP_ZONE (choose nearest)
#    - ANTHROPIC_API_KEY or OPENAI_API_KEY (for AI models)
#
# 4. Keep .env secret:
#    - Never commit to git
#    - Restrict file permissions: chmod 600 .env
#    - Different .env for dev/staging/prod
#
# 5. Cost optimization:
#    - Use e2-small for lower cost (~$12/month) if memory allows
#    - Choose region with lower costs (us-central1 often cheapest)
#    - Use sustained use discounts (automatically applied)
#
# =============================================================================
